function init(){function e(){j=new re(ae.resources["images/bg1.jpg"].texture),X=new re(ae.resources["images/music.png"].texture),F=new re(ae.resources["images/help.png"].texture),M=new re(ae.resources["images/back.png"].texture),T=new re(ae.resources["images/start_game.png"].texture),F.interactive=!0,F.on("tap",i),F.position.set(616,14),j.addChild(F),T.interactive=!0,T.on("tap",s),T.position.set(152,957),j.addChild(T),G=new re(ae.resources["images/bg2.jpg"].texture),z=new re(ae.resources["images/multiple1_unchse.png"].texture),E=new re(ae.resources["images/multiple5_unchse.png"].texture),W=new re(ae.resources["images/multiple8_unchse.png"].texture),H=new re(ae.resources["images/ensure.png"].texture),z.interactive=!0,z.on("tap",a),z.position.set(172,293),z.seed=1,G.addChild(z),E.interactive=!0,E.on("tap",a),E.position.set(172,458),E.seed=2,G.addChild(E),W.interactive=!0,W.on("tap",a),W.position.set(172,627),W.seed=3,G.addChild(W),H.interactive=!0,H.on("tap",n),H.position.set(221,911),G.addChild(H),N=new re(ae.resources["images/bg3.jpg"].texture),R=new re(ae.resources["images/scissors.png"].texture),q=new re(ae.resources["images/stone.png"].texture),D=new re(ae.resources["images/paper.png"].texture),L=new re(ae.resources["images/player1_hand.png"].texture),J=new re(ae.resources["images/player1_hand.png"].texture),bg_head=new re(ae.resources["images/bg_head.png"].texture),bg_foot=new re(ae.resources["images/bg_foot.png"].texture),start=new re(ae.resources["images/start.png"].texture),cheer_left=new re(ae.resources["images/cheer_left.png"].texture),cheer_right=new re(ae.resources["images/cheer_right.png"].texture),count3=new re(ae.resources["images/count3.png"].texture),Z=new re(ae.resources["images/seedNumber.png"].texture),L.position.set(396,1040),L.pivot.set(106,0),L.rotation=Math.PI,N.addChild(L),J.position.set(386,120),J.pivot.set(106,0),N.addChild(J),bg_head.position.set(0,0),N.addChild(bg_head),bg_foot.position.set(0,963),N.addChild(bg_foot),R.interactive=!0,R.on("tap",c),R.position.set(90,920),N.addChild(R),q.interactive=!0,q.on("tap",p),q.position.set(290,920),N.addChild(q),D.interactive=!0,D.on("tap",l),D.position.set(490,920),N.addChild(D),start.interactive=!0,start.on("tap",_),start.position.set(569,678),N.addChild(start),cheer_left.position.set(-26,270),N.addChild(cheer_left),cheer_right.position.set(609,260),N.addChild(cheer_right),count3.position.set(-200,484),count3.pivot.set(-170,30),count3.rotation=Math.PI/2,N.addChild(count3),Z.position.set(12,260),N.addChild(Z),_e.text="0",_e.position.set(67,36),Z.addChild(_e),Ce.fontSize=32,_e.style=Ce,me.beginFill(0,.5),me.drawRect(0,0,ge.width,ge.height),me.interactive=!0,me.visible=!0,resultAlertBg=new re(ae.resources["images/winAlert.png"].texture),play_again=new re(ae.resources["images/play_again.png"].texture),back_hall=new re(ae.resources["images/back_hall.png"].texture),noSeedBg=new re(ae.resources["images/loseAlert.png"].texture),recharge=new re(ae.resources["images/recharge.png"].texture),$=new re(ae.resources["images/loseAlert.png"].texture),ee=new re(ae.resources["images/close.png"].texture),play_again.interactive=!0,play_again.on("tap",w),play_again.position.set(42,207),resultAlertBg.addChild(play_again),back_hall.interactive=!0,back_hall.on("tap",I),back_hall.position.set(287,207),resultAlertBg.addChild(back_hall),recharge.interactive=!0,recharge.on("tap",S),recharge.position.set(134,180),xe.text="种子不够啦",xe.position.set(167,86),noSeedBg.addChild(xe),fe.text="1）玩家选择房间倍率 2）该场会预扣房间底分种子数 3）一对一进行猜拳游戏，胜利方获 得预扣种子及所选倍率种子奖励，失 败方则不返还预扣种子数。",fe.position.set(50,60),we.fontSize=30,we.align="left",fe.style=we,ee.interactive=!0,ee.on("tap",r),ee.position.set(502,-12),$.addChild(fe),$.addChild(ee),he.style=be,xe.style=be,t()}function t(){M.interactive=!0,M.off("tap").on("tap",u),M.position.set(23,14),j.addChild(M),X.texture=Ie===!0?ae.resources["images/music.png"].texture:ae.resources["images/no_music.png"].texture,X.interactive=!0,X.off("tap").on("tap",B),X.position.set(480,14),j.addChild(X),ce.addChild(j),ue.render(ce)}function s(){M.interactive=!0,M.off("tap").on("tap",o),M.position.set(23,14),G.addChild(M),pe.addChild(G),ue.render(pe)}function i(){$.visible=!0,me.visible=!0,j.addChild(me),$.position.set(98,443),me.addChild($),ce.addChild(j),ue.render(ce)}function r(){me.visible=!1,ce.addChild(j),ue.render(ce)}function a(){z.scale.set(1),E.scale.set(1),W.scale.set(1),z.x=172,E.x=172,W.x=172,this.scale.set(1.12),this.x=148,V=this.seed,ue.render(pe)}function n(){if(!V)return 0;P("?resource=seed_my",function(e){te=e.item.seed_my.seed,e.item.seed_my.seed<ye[V-1]?v():P("?resource=funnySoloGame_moraIn",{type:V},function(e){$.visible=!1,M.interactive=!0,M.off("tap").on("tap",d),M.position.set(23,14),N.addChild(M),X.texture=Ie===!0?ae.resources["images/music.png"].texture:ae.resources["images/no_music.png"].texture,X.position.set(610,14),X.off("tap").on("tap",k),N.addChild(X),cheer_left.visible=!0,cheer_right.visible=!0,_e.text=te,le.addChild(N),K=h,Q=!1,U=0,O=1,m()})})}function o(){t()}function d(){if(!Se)return 0;Q=!0,Y=void 0,g(),start.texture=ae.resources["images/start.png"].texture,s()}function u(){adapter.gotopage("/#/race/solo")}function g(){R.texture=ae.resources["images/scissors.png"].texture,q.texture=ae.resources["images/stone.png"].texture,D.texture=ae.resources["images/paper.png"].texture,start.texture=ae.resources["images/start_chse.png"].texture,R.position.set(90,920),q.position.set(290,920),D.position.set(490,920)}function c(){if(!Se)return 0;g(),Y=2,R.texture=ae.resources["images/scissors_chse.png"].texture,R.position.set(90,895),ue.render(le)}function p(){if(!Se)return 0;g(),Y=1,q.texture=ae.resources["images/stone_chse.png"].texture,q.position.set(290,895),ue.render(le)}function l(){if(!Se)return 0;g(),Y=3,D.texture=ae.resources["images/paper_chse.png"].texture,D.position.set(490,895),ue.render(le)}function m(){if(Q)return 0;requestAnimationFrame(m),K(),ue.render(le)}function h(){cheer_left.x+=2*O,cheer_right.x-=2*O,cheer_left.x>=0?O=-1:cheer_left.x<=-26&&(O=1,U+=1),U>=2&&(U=0,K=x,cheer_left.visible=!1,cheer_right.visible=!1)}function x(){U+=1,U%6==0&&(L.rotation+=Math.PI*O/12,J.rotation+=Math.PI*O/12),L.rotation>=Math.PI+Math.PI/12?O=-1:L.rotation<=Math.PI-Math.PI/12&&(O=1)}function _(){if(!Y||!Se)return 0;start.texture=ae.resources["images/start.png"].texture,Se=!1,L.rotation=Math.PI,J.rotation=0,K=f}function f(){U+=1,U%6==0&&(O=-1,count3.rotation+=Math.PI*O/4),count3.rotation<=Math.PI/15&&(U=0,K=b)}function b(){U+=1,30===U&&(count3.texture=ae.resources["images/count2.png"].texture),60===U&&(count3.texture=ae.resources["images/count1.png"].texture),90===U&&(count3.visible=!1,Q=!0,P("?resource=funnySoloGame_moraFight",{type:V,mora:Y},function(e){var t=e.item.funnySoloGame_moraFight;switch(parseInt(t.mora_ai,10)){case 1:J.texture=ae.resources["images/player1_hand.png"].texture;break;case 2:J.texture=ae.resources["images/player1_scissors.png"].texture;break;case 3:J.texture=ae.resources["images/player1_paper.png"].texture}switch(Y){case 1:L.texture=ae.resources["images/player1_hand.png"].texture;break;case 2:L.texture=ae.resources["images/player1_scissors.png"].texture;break;case 3:L.texture=ae.resources["images/player1_paper.png"].texture}1===t.result?he.text="恭喜你获得 "+t.score+"种子":2===t.result?he.text="平局哦 差一点就赢了":he.text="太可惜了！ -"+ye[V-1]+"种子",ue.render(le),1===t.result?resultAlertBg.texture=ae.resources["images/winAlert.png"].texture:resultAlertBg.texture=ae.resources["images/loseAlert.png"].texture,setTimeout(C,800)}))}function C(){me.visible=!0,resultAlertBg.visible=!0,resultAlertBg.addChild(back_hall),resultAlertBg.position.set(99,445),me.addChild(resultAlertBg),he.position.set(172,62),resultAlertBg.addChild(he),N.addChild(me),ue.render(le)}function w(){P("?resource=seed_my",function(e){e.item.seed_my.seed<ye[V-1]?y():(me.visible=!1,Y=void 0,Se=!0,count3.rotation=Math.PI/2,count3.visible=!0,count3.texture=ae.resources["images/count3.png"].texture,L.texture=ae.resources["images/player1_hand.png"].texture,J.texture=ae.resources["images/player1_hand.png"].texture,g(),start.texture=ae.resources["images/start.png"].texture,s())})}function y(){resultAlertBg.visible=!1,noSeedBg.addChild(recharge),noSeedBg.position.set(99,445),me.addChild(noSeedBg),ue.render(le)}function v(){me.visible=!0,ee.visible=!1,noSeedBg.addChild(recharge),noSeedBg.position.set(99,445),me.addChild(noSeedBg),pe.addChild(me),ue.render(pe)}function I(){adapter.gotopage("/#/race/solo")}function S(){adapter.gotopage("/#/mall/buycard")}function B(){Ie===!0?(ve.pause(),X.texture=ae.resources["images/no_music.png"].texture,Ie=!1,localStorage.setItem("musicStatu",!1)):(ve.play(),X.texture=ae.resources["images/music.png"].texture,Ie=!0,localStorage.setItem("musicStatu",!0)),ue.render(ce)}function k(){Ie===!0?(ve.pause(),X.texture=ae.resources["images/no_music.png"].texture,Ie=!1,localStorage.setItem("musicStatu",!1)):(ve.play(),X.texture=ae.resources["images/music.png"].texture,Ie=!0,localStorage.setItem("musicStatu",!0)),ue.render(le)}function A(e){me.visible=!0,M.position.set(23,14),j.addChild(M),X.position.set(480,14),j.addChild(X),xe.text=e,back_hall.position.set(164,180),noSeedBg.addChild(back_hall),noSeedBg.position.set(99,445),me.addChild(noSeedBg),j.addChild(me),ce.addChild(j),ue.render(ce)}function P(e,t,s){function i(e){var t=[];for(key in e)t.push(key+"="+e[key]);return t.join("&")}var r=document.createElement("script");"function"==typeof t&&(s=t,t={}),window.myCallBack=function(e){document.body.removeChild(document.getElementById("myScript")),0===e.status?s&&s(e):(Q=!0,A(e.msg))},e="http://api2.caiguo.com/"+e+"&callback=myCallBack&"+i(t),r.src=e,r.id="myScript",document.body.appendChild(r)}var M,j,X,F,T,G,z,E,W,H,N,R,q,D,L,J,K,O,Q,U,V,Y,Z,$,ee,te,se=PIXI.Container,ie=PIXI.autoDetectRenderer,re=PIXI.Sprite,ae=PIXI.loader,ne=PIXI.Graphics,oe=PIXI.Text,de=PIXI.TextStyle,ue=ie(750,1206),ge=ue.view,ce=new se,pe=new se,le=new se,me=new ne,he=new oe,xe=new oe,_e=new oe,fe=new oe,be=new de({fontFamily:"hkhb",fontSize:42,fill:16777215,wordWrap:!0,wordWrapWidth:220,align:"center",lineHeight:50,padding:5}),Ce=be.clone(),we=be.clone(),ye=[100,500,800],ve=document.getElementById("bgmusic"),Ie=localStorage.getItem("musicStatu")||"true",Se=!0;cvs.innerHTML=null,ue.render(ce),cvs.appendChild(ge),"true"===Ie&&(Ie=!0),"false"===Ie&&(Ie=!1),ae.add("images/bg1.jpg").add("images/music.png").add("images/help.png").add("images/back.png").add("images/start_game.png").add("images/bg2.jpg").add("images/multiple1_unchse.png").add("images/multiple5_unchse.png").add("images/multiple8_unchse.png").add("images/ensure.png").add("images/bg3.jpg").add("images/scissors.png").add("images/stone.png").add("images/paper.png").add("images/scissors_chse.png").add("images/stone_chse.png").add("images/paper_chse.png").add("images/player1_hand.png").add("images/bg_head.png").add("images/bg_foot.png").add("images/start.png").add("images/cheer_left.png").add("images/cheer_right.png").add("images/start_chse.png").add("images/count3.png").add("images/count2.png").add("images/count1.png").add("images/player1_paper.png").add("images/player1_scissors.png").add("images/winAlert.png").add("images/loseAlert.png").add("images/play_again.png").add("images/back_hall.png").add("images/recharge.png").add("images/seedNumber.png").add("images/close.png").add("images/no_music.png").load(e)}setTimeout(function(){init()},1e3);